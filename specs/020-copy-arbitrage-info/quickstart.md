# Quick Start Guide: 一鍵複製套利機會資訊

**Feature**: 020-copy-arbitrage-info
**Version**: 1.0.0
**Last Updated**: 2025-11-21

## 功能概述

一鍵複製功能讓你能快速複製套利機會的完整資訊到剪貼板，方便分享給團隊成員或記錄到其他應用程式中。

## 如何使用

### 步驟 1: 開啟市場監控頁面

1. 啟動應用程式並登入
2. 導航到「市場監控」頁面
3. 你會看到所有交易對的資金費率資訊

### 步驟 2: 找到套利機會

在表格中尋找符合以下條件的交易對：
- 狀態顯示為 🟢 opportunity（綠色背景）
- 費率差異 ≥ 0.5%
- 有明確的做多/做空交易所標記

### 步驟 3: 點擊複製按鈕

在交易對行的右側找到「複製」按鈕（📋圖標），點擊它。

### 步驟 4: 確認複製成功

點擊後，按鈕圖標會變成 ✓（打勾）持續 2 秒，表示複製成功。

### 步驟 5: 貼上到目標應用程式

開啟你想要貼上資訊的應用程式（如記事本、Excel、Telegram），然後：
- **Windows**: 按 `Ctrl + V`
- **Mac**: 按 `Cmd + V`
- **手機**: 長按並選擇「貼上」

## 複製的資訊格式

複製到剪貼板的內容包含以下資訊：

```
=======
【套套摳訊】

📌
BTC/USDT
做多：BINANCE（交易所）
做空：OKX（交易所）

📈 目前利潤預估：
 • 目前價差：約 5-7%
 • 目前資費差：約 3%

🧾 下單小提醒：
 • 請使用全倉 + 低倍槓桿（最多 2～3 倍）
 • 兩邊市價一起敲，兩邊顆數要一樣

🚨 風險提醒：
 • 資費有時會亂跳，要再注意觀察
=======
```

### 欄位說明

| 欄位 | 說明 | 範例 |
|------|------|------|
| 交易對 | 套利標的名稱 | BTC/USDT |
| 做多交易所 | 建立多倉的交易所（費率較低，收取資金費率） | BINANCE |
| 做空交易所 | 建立空倉的交易所（費率較高，支付資金費率） | OKX |
| 目前價差 | 兩個交易所的現貨價格差異（範圍估值） | 約 5-7% |
| 目前資費差 | 兩個交易所的資金費率差異（範圍估值） | 約 3% |
| 下單小提醒 | 固定的交易建議 | 全倉、低倍槓桿、市價單 |
| 風險提醒 | 固定的風險警示 | 資費可能波動 |

### 關於範圍估值

價差和資費差顯示為範圍（如「約 5-7%」）而非精確值，這是因為：
- 市場價格持續波動
- 範圍估值提供更實際的預期
- 避免給人「精確」的錯覺

範圍計算方式：當前值的 ±20% 波動範圍，四捨五入到整數百分比。

## 支援的瀏覽器

此功能支援以下現代瀏覽器：

| 瀏覽器 | 最低版本 | 備註 |
|--------|---------|------|
| Chrome | 90+ | ✅ 完全支援 |
| Firefox | 88+ | ✅ 完全支援 |
| Safari | 14+ | ✅ 完全支援 |
| Edge | 90+ | ✅ 完全支援 |

**注意**: 舊版瀏覽器可能不支援剪貼板 API，會顯示錯誤訊息。

## 常見問題

### Q1: 為什麼複製按鈕是灰色的（禁用狀態）？

**可能原因**:
- 該交易對目前沒有套利機會（bestPair 為 null）
- 費率差異小於閾值
- 數據尚未載入完成

**解決方式**: 等待數據更新，或選擇其他有套利機會的交易對。

---

### Q2: 點擊複製按鈕後沒有反應？

**可能原因**:
1. **瀏覽器不支援 Clipboard API**
   - 解決: 更新到最新版本的瀏覽器

2. **不是 HTTPS 環境**
   - 解決: 確認網址以 `https://` 開頭（開發環境 `localhost` 除外）

3. **瀏覽器剪貼板權限被拒絕**
   - 解決: 檢查瀏覽器設定，允許網站存取剪貼板

---

### Q3: 複製後顯示錯誤訊息「無法複製到剪貼板」？

**可能原因**:
- 瀏覽器權限設定阻止剪貼板存取
- 瀏覽器安全設定過於嚴格

**解決步驟**:

**Chrome / Edge**:
1. 點擊網址列左側的鎖頭圖標
2. 選擇「網站設定」
3. 找到「剪貼板」權限
4. 設定為「允許」

**Firefox**:
1. 在網址列輸入 `about:config`
2. 搜尋 `dom.events.asyncClipboard.clipboardItem`
3. 確認設定為 `true`

**Safari**:
1. 偏好設定 → 網站 → 一般
2. 找到「貼上和對應樣式」
3. 設定為「允許」

---

### Q4: 貼上後格式跑掉或缺少 emoji？

**可能原因**:
- 目標應用程式不支援 Unicode emoji
- 應用程式自動轉換格式

**解決方式**:
- **記事本/文字編輯器**: 確保使用 UTF-8 編碼儲存
- **Excel**: 選擇「貼上為純文字」以保留格式
- **Telegram/Discord**: emoji 應自動顯示，如果沒有可能是客戶端版本過舊

**測試建議**: 先貼到記事本確認內容正確，再複製到目標應用程式。

---

### Q5: 可以同時複製多個交易對的資訊嗎？

**目前版本**: ❌ 不支援批量複製

**替代方案**:
1. 依序點擊每個交易對的複製按鈕
2. 分別貼上到目標應用程式
3. 手動彙整資訊

**未來計劃**: 批量複製功能已列入未來改進清單。

---

### Q6: 複製的資訊能自訂格式嗎？

**目前版本**: ❌ 不支援自訂格式

目前所有交易對使用相同的固定格式，包含：
- 交易對名稱
- 做多/做空交易所
- 價差和資費差（範圍估值）
- 固定的下單提醒和風險警示

**未來計劃**: 自訂格式範本功能已列入未來改進清單。

---

### Q7: 為什麼沒有顯示限倉資訊？

**設計決策**: 第一版本暫不包含交易所限倉限制資訊，原因：
- 需要額外的 API 呼叫
- 限倉規則因帳戶等級而異
- 增加開發和維護複雜度

**替代方案**: 請手動查詢各交易所的限倉規則。

**未來計劃**: 限倉資訊顯示功能已列入未來改進清單。

---

## 故障排除

### 問題: 複製按鈕完全沒有顯示

**檢查步驟**:
1. 確認你在正確的頁面（市場監控頁面）
2. 重新整理頁面（`F5` 或 `Cmd/Ctrl + R`）
3. 檢查瀏覽器 Console 是否有錯誤訊息
4. 確認應用程式版本已更新到包含此功能的版本

### 問題: 視覺反饋（✓圖標）沒有出現

**檢查步驟**:
1. 確認複製操作確實成功（嘗試貼上）
2. 如果複製成功但沒有視覺反饋，可能是 UI 渲染問題
3. 嘗試重新整理頁面

### 問題: 複製後剪貼板是空的

**可能原因**:
- 複製操作失敗但未正確顯示錯誤
- 另一個應用程式覆蓋了剪貼板內容

**解決步驟**:
1. 立即點擊複製後就貼上（避免被其他操作覆蓋）
2. 如果持續失敗，查看 Console 錯誤訊息
3. 聯繫技術支援並提供錯誤訊息截圖

## 使用技巧

### 技巧 1: 快速分享到通訊軟體

1. 點擊複製按鈕
2. 立即切換到 Telegram / Discord
3. 在聊天室中按 `Ctrl/Cmd + V` 貼上
4. emoji 和格式會自動保留

### 技巧 2: 建立套利機會清單

1. 開啟 Excel 或 Google Sheets
2. 複製第一個套利機會
3. 貼上到儲存格 A1
4. 複製下一個機會，貼上到 A10（留一些空行）
5. 重複步驟，建立完整清單

### 技巧 3: 整合到交易筆記

在 Notion / Obsidian 等筆記應用程式中：
1. 建立「套利機會追蹤」頁面
2. 使用代碼區塊（Code Block）保留格式
3. 複製貼上套利資訊
4. 新增你的交易決策和結果記錄

### 技巧 4: 檢查數據新鮮度

在複製前檢查：
- 交易對行是否顯示「陳舊」標籤（數據超過 30 秒）
- 如果數據陳舊，等待下一次更新（每 5 秒）再複製

## 鍵盤快捷鍵

目前版本不支援鍵盤快捷鍵，必須使用滑鼠點擊複製按鈕。

**未來計劃**: 考慮新增快捷鍵支援（如 `Ctrl/Cmd + Shift + C`）。

## 隱私和安全

### 數據安全

- ✅ 複製功能僅讀取已顯示在畫面上的公開市場數據
- ✅ 不涉及 API keys 或個人資料
- ✅ 不會上傳或儲存複製的內容到任何伺服器
- ✅ 剪貼板內容完全由用戶控制

### 剪貼板權限

- 瀏覽器會在背景自動管理剪貼板權限
- 用戶點擊複製按鈕時視為授權操作
- 如果不信任網站，可以在瀏覽器設定中撤銷權限

## 效能考量

- **複製延遲**: < 100ms（幾乎即時）
- **視覺反饋**: 500ms 內顯示（快速且明確）
- **記憶體使用**: 最小（僅創建一個文字字串）
- **不影響頁面效能**: 純前端操作，不會拖慢應用程式

## 更新日誌

### Version 1.0.0 (2025-11-21)
- ✨ 新增一鍵複製套利機會資訊功能
- ✨ 支援範圍估值顯示（價差和資費差）
- ✨ 視覺反饋（✓圖標持續 2 秒）
- ✨ 完整的錯誤處理和用戶提示
- ✨ 支援四個交易所（BINANCE、OKX、MEXC、GATE）

## 回饋和建議

如果你有任何問題、建議或發現 bug，歡迎：
1. 在應用程式內提交回饋
2. 聯繫開發團隊
3. 在 GitHub 上提交 Issue

我們會持續改進這個功能，讓套利資訊分享更加便利！

---

## 相關文件

- [功能規格](./spec.md) - 完整的功能需求文件
- [技術計劃](./plan.md) - 實作架構和技術細節
- [數據模型](./data-model.md) - 數據結構說明
- [研究文件](./research.md) - 技術決策和研究結果

**Quick Start Guide Status**: ✅ COMPLETE
**Ready for Users**: ✅ YES
