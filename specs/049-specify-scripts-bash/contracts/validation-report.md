# é©—è­‰å ±å‘Šå¥‘ç´„

**Feature**: 049-trading-validation-script | **Date**: 2025-12-29

---

## æ¦‚è¿°

å®šç¾© CLI é©—è­‰è…³æœ¬çš„è¼¸å‡ºæ ¼å¼ï¼Œæ”¯æ´æ–‡å­—å’Œ JSON å…©ç¨®æ ¼å¼ã€‚

---

## æ–‡å­—æ ¼å¼å ±å‘Š

é è¨­è¼¸å‡ºæ ¼å¼ï¼Œé©åˆçµ‚ç«¯æ©Ÿé–±è®€ã€‚

### æˆåŠŸå ±å‘Šç¯„ä¾‹

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
äº¤æ˜“é©—è­‰å ±å‘Š - Gate.io BTCUSDT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ é©—è­‰æ™‚é–“: 2025-12-29 10:30:45
ğŸ“Š é©—è­‰æ¨¡å¼: è‡ªå‹•æ¸¬è©¦ (run)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ˆ é–‹å€‰é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… [1] äº¤æ˜“å°æ ¼å¼æ­£ç¢º
   é æœŸ: BTCUSDT â†’ BTC/USDT:USDT
   å¯¦éš›: BTC/USDT:USDT

âœ… [2] é–‹å€‰æ•¸é‡æ­£ç¢º
   é æœŸ: 0.01 BTC
   å¯¦éš›: 0.01 BTC (1 å¼µ Ã— 0.01 contractSize)

âœ… [3] contractSize è½‰æ›æ­£ç¢º
   é æœŸ: contractSize = 0.01
   å¯¦éš›: contractSize = 0.01

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ›¡ï¸ æ¢ä»¶å–®é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… [4] åœæå–®å·²å»ºç«‹
   orderId: 1234567890

âœ… [5] åœæåƒ¹æ ¼æ­£ç¢º
   é æœŸ: $94,123.45
   å¯¦éš›: $94,123.45

âœ… [6] åœææ•¸é‡æ­£ç¢º
   é æœŸ: 1 å¼µ (0.01 BTC)
   å¯¦éš›: 1 å¼µ (0.01 BTC)

âœ… [7] åœåˆ©å–®å·²å»ºç«‹
   orderId: 1234567891

âœ… [8] åœåˆ©åƒ¹æ ¼æ­£ç¢º
   é æœŸ: $103,876.55
   å¯¦éš›: $103,876.55

âœ… [9] åœåˆ©æ•¸é‡æ­£ç¢º
   é æœŸ: 1 å¼µ (0.01 BTC)
   å¯¦éš›: 1 å¼µ (0.01 BTC)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“‰ å¹³å€‰é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… [10] å¹³å€‰åŸ·è¡ŒæˆåŠŸ
    ç‹€æ…‹: CLOSED

âœ… [11] å¹³å€‰æ•¸é‡æ­£ç¢º
    é æœŸ: 0.01 BTC
    å¯¦éš›: 0.01 BTC

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
çµæœ: 11/11 é€šé âœ…
åŸ·è¡Œæ™‚é–“: 15.234 ç§’
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### å¤±æ•—å ±å‘Šç¯„ä¾‹

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
äº¤æ˜“é©—è­‰å ±å‘Š - Gate.io BTCUSDT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ é©—è­‰æ™‚é–“: 2025-12-29 10:30:45
ğŸ“Š é©—è­‰æ¨¡å¼: è‡ªå‹•æ¸¬è©¦ (run)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ˆ é–‹å€‰é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… [1] äº¤æ˜“å°æ ¼å¼æ­£ç¢º
   é æœŸ: BTCUSDT â†’ BTC/USDT:USDT
   å¯¦éš›: BTC/USDT:USDT

âŒ [2] é–‹å€‰æ•¸é‡ä¸æ­£ç¢º
   é æœŸ: 0.01 BTC
   å¯¦éš›: 0.001 BTC (1 å¼µ Ã— 0.001 contractSize)
   éŒ¯èª¤: æ•¸é‡å·®ç•°è¶…é 0.01% å®¹å·®

âœ… [3] contractSize è½‰æ›æ­£ç¢º
   é æœŸ: contractSize = 0.01
   å¯¦éš›: contractSize = 0.01

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ›¡ï¸ æ¢ä»¶å–®é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš ï¸ [4] åœæå–®æŸ¥è©¢è¶…æ™‚
   é‡è©¦ 3 æ¬¡å¾Œä»ç„¡æ³•å–å¾—çµæœ

â­ï¸ [5] åœæåƒ¹æ ¼é©—è­‰è·³é
   åŸå› : åœæå–®æœªæˆåŠŸå»ºç«‹

â­ï¸ [6] åœææ•¸é‡é©—è­‰è·³é
   åŸå› : åœæå–®æœªæˆåŠŸå»ºç«‹

âœ… [7] åœåˆ©å–®å·²å»ºç«‹
   orderId: 1234567891

âœ… [8] åœåˆ©åƒ¹æ ¼æ­£ç¢º
   é æœŸ: $103,876.55
   å¯¦éš›: $103,876.55

âœ… [9] åœåˆ©æ•¸é‡æ­£ç¢º
   é æœŸ: 1 å¼µ (0.01 BTC)
   å¯¦éš›: 1 å¼µ (0.01 BTC)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“‰ å¹³å€‰é©—è­‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… [10] å¹³å€‰åŸ·è¡ŒæˆåŠŸ
    ç‹€æ…‹: CLOSED

âœ… [11] å¹³å€‰æ•¸é‡æ­£ç¢º
    é æœŸ: 0.01 BTC
    å¯¦éš›: 0.01 BTC

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
çµæœ: 8/11 é€šé, 1 å¤±æ•—, 1 è­¦å‘Š, 2 è·³é âŒ
åŸ·è¡Œæ™‚é–“: 45.678 ç§’
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## JSON æ ¼å¼å ±å‘Š

ä½¿ç”¨ `--json` åƒæ•¸è¼¸å‡ºï¼Œé©åˆè‡ªå‹•åŒ–è™•ç†ã€‚

### Schema

```typescript
interface JsonValidationReport {
  meta: {
    timestamp: string;        // ISO 8601 æ ¼å¼
    exchange: string;         // äº¤æ˜“æ‰€åç¨±
    symbol: string;           // äº¤æ˜“å°
    mode: 'run' | 'verify';   // é©—è­‰æ¨¡å¼
    duration: number;         // åŸ·è¡Œæ™‚é–“ï¼ˆæ¯«ç§’ï¼‰
  };

  items: Array<{
    id: number;               // 1-11
    name: string;             // é©—è­‰é …ç›®åç¨±
    category: string;         // position, conditional, close
    status: string;           // pass, fail, skip, warn
    expected: string;         // é æœŸå€¼
    actual: string;           // å¯¦éš›å€¼
    error?: string;           // éŒ¯èª¤è¨Šæ¯
  }>;

  summary: {
    total: number;
    passed: number;
    failed: number;
    skipped: number;
    warned: number;
    success: boolean;         // æ˜¯å¦å…¨éƒ¨é€šé
  };
}
```

### JSON ç¯„ä¾‹

```json
{
  "meta": {
    "timestamp": "2025-12-29T10:30:45.123Z",
    "exchange": "gateio",
    "symbol": "BTCUSDT",
    "mode": "run",
    "duration": 15234
  },
  "items": [
    {
      "id": 1,
      "name": "äº¤æ˜“å°æ ¼å¼æ­£ç¢º",
      "category": "position",
      "status": "pass",
      "expected": "BTC/USDT:USDT",
      "actual": "BTC/USDT:USDT"
    },
    {
      "id": 2,
      "name": "é–‹å€‰æ•¸é‡æ­£ç¢º",
      "category": "position",
      "status": "pass",
      "expected": "0.01 BTC",
      "actual": "0.01 BTC"
    },
    {
      "id": 3,
      "name": "contractSize è½‰æ›æ­£ç¢º",
      "category": "position",
      "status": "pass",
      "expected": "0.01",
      "actual": "0.01"
    },
    {
      "id": 4,
      "name": "åœæå–®å·²å»ºç«‹",
      "category": "conditional",
      "status": "pass",
      "expected": "exists",
      "actual": "orderId: 1234567890"
    },
    {
      "id": 5,
      "name": "åœæåƒ¹æ ¼æ­£ç¢º",
      "category": "conditional",
      "status": "pass",
      "expected": "94123.45",
      "actual": "94123.45"
    },
    {
      "id": 6,
      "name": "åœææ•¸é‡æ­£ç¢º",
      "category": "conditional",
      "status": "pass",
      "expected": "0.01",
      "actual": "0.01"
    },
    {
      "id": 7,
      "name": "åœåˆ©å–®å·²å»ºç«‹",
      "category": "conditional",
      "status": "pass",
      "expected": "exists",
      "actual": "orderId: 1234567891"
    },
    {
      "id": 8,
      "name": "åœåˆ©åƒ¹æ ¼æ­£ç¢º",
      "category": "conditional",
      "status": "pass",
      "expected": "103876.55",
      "actual": "103876.55"
    },
    {
      "id": 9,
      "name": "åœåˆ©æ•¸é‡æ­£ç¢º",
      "category": "conditional",
      "status": "pass",
      "expected": "0.01",
      "actual": "0.01"
    },
    {
      "id": 10,
      "name": "å¹³å€‰åŸ·è¡ŒæˆåŠŸ",
      "category": "close",
      "status": "pass",
      "expected": "CLOSED",
      "actual": "CLOSED"
    },
    {
      "id": 11,
      "name": "å¹³å€‰æ•¸é‡æ­£ç¢º",
      "category": "close",
      "status": "pass",
      "expected": "0.01",
      "actual": "0.01"
    }
  ],
  "summary": {
    "total": 11,
    "passed": 11,
    "failed": 0,
    "skipped": 0,
    "warned": 0,
    "success": true
  }
}
```

---

## ç‹€æ…‹ç¢¼å®šç¾©

| ç‹€æ…‹ | ç¬¦è™Ÿ | èªªæ˜ |
|-----|------|------|
| pass | âœ… | é©—è­‰é€šé |
| fail | âŒ | é©—è­‰å¤±æ•— |
| skip | â­ï¸ | è·³éï¼ˆå‰ç½®æ¢ä»¶æœªæ»¿è¶³ï¼‰ |
| warn | âš ï¸ | è­¦å‘Šï¼ˆå¯æ¢å¾©éŒ¯èª¤ï¼Œå¦‚è¶…æ™‚ï¼‰ |

---

## Exit Code

| Code | èªªæ˜ |
|------|------|
| 0 | æ‰€æœ‰é©—è­‰é …ç›®é€šé |
| 1 | æœ‰é©—è­‰é …ç›®å¤±æ•— |
| 2 | è‡´å‘½éŒ¯èª¤ï¼ˆAPI Key ä¸å­˜åœ¨ã€é¤˜é¡ä¸è¶³ç­‰ï¼‰ |
