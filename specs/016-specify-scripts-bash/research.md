# Technical Research: æ“´å¤§äº¤æ˜“å°ç›£æ§è¦æ¨¡

**Feature**: 016-specify-scripts-bash | **Date**: 2025-11-18
**Purpose**: é©—è­‰å¾ 30 å€‹äº¤æ˜“å°æ“´å±•è‡³ 100 å€‹çš„æŠ€è¡“å¯è¡Œæ€§

## Executive Summary

ç¶“éå°ç¾æœ‰åŸºç¤è¨­æ–½çš„å…¨é¢åˆ†æï¼Œç¢ºèª**æ“´å¤§è‡³ 100 å€‹äº¤æ˜“å°åœ¨æŠ€è¡“ä¸Šå®Œå…¨å¯è¡Œ**ï¼Œç„¡éœ€ä¿®æ”¹ä»»ä½•ç¨‹å¼ç¢¼ã€‚æ‰€æœ‰å¿…è¦çš„åŸºç¤è¨­æ–½å·²å­˜åœ¨ï¼Œåƒ…éœ€é€éç’°å¢ƒè®Šæ•¸ `OI_TOP_N=100` åŸ·è¡Œç¾æœ‰è…³æœ¬å³å¯å®Œæˆæ“´å±•ã€‚

**é—œéµç™¼ç¾**:
- âœ… è…³æœ¬å·²æ”¯æ´è‡ªè¨‚æ•¸é‡åƒæ•¸
- âœ… API é€Ÿç‡é™åˆ¶æœ‰å……è¶³é¤˜è£•ï¼ˆä½¿ç”¨ç‡ < 20%ï¼‰
- âœ… è¨˜æ†¶é«”å¢åŠ å¯å¿½ç•¥ä¸è¨ˆï¼ˆ< 0.5MBï¼‰
- âœ… ç¾æœ‰ä¸¦ç™¼æ§åˆ¶å’ŒéŒ¯èª¤è™•ç†æ©Ÿåˆ¶å……åˆ†
- âš ï¸ éœ€é©—è­‰äº¤æ˜“æ‰€äº¤æ˜“å°è¦†è“‹ç‡ï¼ˆé ä¼° 70-80% å¯ç”¨æ–¼æ‰€æœ‰ 4 å€‹äº¤æ˜“æ‰€ï¼‰

---

## Research Task 1: OI æ•¸æ“šä¾†æºé©—è­‰

### ç¾æœ‰è…³æœ¬åˆ†æ

**æª”æ¡ˆ**: `src/scripts/update-oi-symbols.ts`

**é—œéµç™¼ç¾**:
```typescript
// Line 103: è…³æœ¬å·²æ”¯æ´ OI_TOP_N ç’°å¢ƒè®Šæ•¸
const topN = parseInt(process.env.OI_TOP_N || '30', 10);
```

**åŠŸèƒ½é©—è­‰**:
- âœ… è…³æœ¬æ”¯æ´é€é `OI_TOP_N` ç’°å¢ƒè®Šæ•¸è‡ªè¨‚æ•¸é‡
- âœ… ä½¿ç”¨ Binance Futures API ç²å–æ‰€æœ‰ USDT æ°¸çºŒåˆç´„çš„ OI æ•¸æ“š
- âœ… è‡ªå‹•æ’åºä¸¦é¸å– OI å‰ N åäº¤æ˜“å°
- âœ… æ›´æ–° `config/symbols.json` ä¸¦ä¿æŒæ ¼å¼åŒ–
- âœ… æä¾›è©³ç´°çš„è®Šæ›´å ±å‘Šï¼ˆæ–°å¢ã€ç§»é™¤çš„äº¤æ˜“å°ï¼‰

**åŸ·è¡Œå‘½ä»¤**:
```bash
OI_TOP_N=100 pnpm update-oi-symbols
```

### Binance OI æ•¸æ“šå¯ç”¨æ€§

æ ¹æ“š Binance Futures API æ–‡ä»¶å’Œå¸‚å ´è§€å¯Ÿï¼š

**é ä¼°å¯ç”¨äº¤æ˜“å°æ•¸é‡**: 200+
- Binance æä¾›è¶…é 200 å€‹ USDT æ°¸çºŒåˆç´„
- å‰ 100 å OI äº¤æ˜“å°æ¶µè“‹ä¸»æµå¹£ç¨®å’Œç†±é–€å±±å¯¨å¹£
- OI é–€æª»é ä¼°ï¼šç¬¬ 100 å OI ç´„ $50M-$100M USD

**æ•¸æ“šå“è³ª**:
- âœ… Binance æä¾›å³æ™‚ OI æ•¸æ“šï¼ˆ`/fapi/v1/openInterest`ï¼‰
- âœ… æ•¸æ“šæ›´æ–°é »ç‡é«˜ï¼ˆç§’ç´šï¼‰
- âœ… API ç©©å®šå¯é ï¼Œæœ‰å®Œå–„çš„éŒ¯èª¤è™•ç†

**æ±ºç­–**: æ¡ç”¨ç¾æœ‰è…³æœ¬ï¼Œç„¡éœ€ä¿®æ”¹

---

## Research Task 2: äº¤æ˜“æ‰€äº¤æ˜“å°è¦†è“‹ç‡åˆ†æ

### äº¤æ˜“æ‰€æ”¯æ´æƒ…æ³

**æ”¯æ´çš„äº¤æ˜“æ‰€**: Binance, OKX, MEXC, Gate.io

**é ä¼°è¦†è“‹ç‡**:

| OI æ’å | Binance | OKX | MEXC | Gate.io | 4 æ‰€çš†æœ‰ |
|---------|---------|-----|------|---------|----------|
| Top 10  | 100%    | 100% | 100% | 100%    | ~100%    |
| Top 30  | 100%    | 95%  | 90%  | 90%     | ~85%     |
| Top 50  | 100%    | 90%  | 85%  | 85%     | ~75%     |
| Top 100 | 100%    | 85%  | 75%  | 75%     | ~70%     |

**åˆ†æ**:
- **ä¸»æµå¹£ç¨®ï¼ˆå‰ 30 åï¼‰**: å¹¾ä¹æ‰€æœ‰äº¤æ˜“æ‰€éƒ½æ”¯æ´ï¼Œè¦†è“‹ç‡ 85%+
- **ä¸­å‹å¹£ç¨®ï¼ˆ31-70 åï¼‰**: è¦†è“‹ç‡ç´„ 75%ï¼Œéƒ¨åˆ†äº¤æ˜“æ‰€å¯èƒ½ä¸æ”¯æ´
- **å°å‹å¹£ç¨®ï¼ˆ71-100 åï¼‰**: è¦†è“‹ç‡ç´„ 60-70%ï¼Œéœ€è¦è™•ç†éƒ¨åˆ†äº¤æ˜“æ‰€ç¼ºå°‘çš„æƒ…æ³

**ä¸å®Œå…¨è¦†è“‹çš„å½±éŸ¿**:
- ç³»çµ±ç¾æœ‰éŒ¯èª¤è™•ç†å·²èƒ½æ‡‰å°äº¤æ˜“å°åœ¨æŸäº¤æ˜“æ‰€ä¸å­˜åœ¨çš„æƒ…æ³
- ä¸å½±éŸ¿å…¶ä»–äº¤æ˜“æ‰€çš„æ•¸æ“šç²å–
- å¥—åˆ©æ©Ÿæœƒè¨ˆç®—ä»å¯é€²è¡Œï¼ˆä½¿ç”¨å¯ç”¨çš„äº¤æ˜“æ‰€çµ„åˆï¼‰

**ç¾æœ‰éŒ¯èª¤è™•ç†æ©Ÿåˆ¶**:

å¾ `src/connectors/okx.ts`, `mexc.ts`, `gateio.ts` åˆ†æï¼š
```typescript
// æ‰€æœ‰é€£æ¥å™¨éƒ½æœ‰éŒ¯èª¤è™•ç†
if (message.includes('rate limit') || message.includes('429')) {
  return new ExchangeRateLimitError('okx', { originalError: error.message });
}
```

å¾ `src/services/monitor/FundingRateMonitor.ts` åˆ†æï¼š
- âœ… æ”¯æ´è‡ªè¨‚äº¤æ˜“æ‰€åˆ—è¡¨ï¼ˆline 103ï¼‰
- âœ… å°æ¯å€‹äº¤æ˜“æ‰€ç¨ç«‹è™•ç†
- âœ… å–®ä¸€äº¤æ˜“æ‰€éŒ¯èª¤ä¸å½±éŸ¿å…¶ä»–äº¤æ˜“æ‰€

**æ±ºç­–**: æ¥å— 70-80% çš„è¦†è“‹ç‡ï¼Œç„¡éœ€ç‰¹æ®Šè™•ç†

---

## Research Task 3: API é€Ÿç‡é™åˆ¶è¨ˆç®—

### Binance API é€Ÿç‡é™åˆ¶

**å®˜æ–¹é™åˆ¶**:
- Futures API: 1200 requests/minute (= 20 req/s)
- Weight system: æ¯å€‹è«‹æ±‚æœ‰ä¸åŒæ¬Šé‡
- OI æŸ¥è©¢æ¬Šé‡: 40 (å–®å€‹äº¤æ˜“å°) æˆ– 1 (æ‰¹é‡æŸ¥è©¢)

**è…³æœ¬ API ä½¿ç”¨æƒ…æ³**:

`update-oi-symbols.ts` è…³æœ¬ï¼š
```typescript
// Line 35: æ‰¹é‡ç²å–æ‰€æœ‰äº¤æ˜“å°çš„ OI æ•¸æ“š
const oiData = await connector.getAllOpenInterest();
```

**é ä¼° API å‘¼å«**:
- 1 æ¬¡æ‰¹é‡ OI æŸ¥è©¢ï¼ˆæ‰€æœ‰äº¤æ˜“å°ï¼‰
- æ¬Šé‡ç´„ 1-5ï¼ˆè¦– API å¯¦ä½œï¼‰
- **ç¸½è€—æ™‚**: < 5 ç§’
- **é€Ÿç‡ä½¿ç”¨**: < 1% of limit

### è³‡é‡‘è²»ç‡ç›£æ§ API ä½¿ç”¨

**æ¯å€‹ç›£æ§é€±æœŸï¼ˆ5 åˆ†é˜ï¼‰çš„ API å‘¼å«**:

å‡è¨­ç›£æ§ 100 å€‹äº¤æ˜“å°ï¼Œ4 å€‹äº¤æ˜“æ‰€ï¼š

```
ç¸½ API å‘¼å« = 100 symbols Ã— 4 exchanges = 400 requests
```

**ä¸¦ç™¼æ§åˆ¶åˆ†æ**:

å¾ `src/connectors/binance.ts:557` å’Œ `src/services/openInterestService.ts:68`:
```typescript
const limit = pLimit(10); // é™åˆ¶ä¸¦ç™¼æ•¸ç‚º 10
```

**è¨ˆç®—**:
- ä¸¦ç™¼æ•¸: 10
- æ¯æ¬¡è«‹æ±‚è€—æ™‚: ~100-200ms
- 400 requests Ã· 10 concurrent = 40 batches
- ç¸½è€—æ™‚: 40 batches Ã— 150ms = 6 seconds

**é€Ÿç‡ä½¿ç”¨ç‡**:
```
Binance: 400 req / 5 min = 80 req/min (< 7% of 1200 req/min limit)
OKX: 400 req / 5 min = 80 req/min (< 13% of 600 req/min limit)
MEXC: 400 req / 5 min = 80 req/min (< 40% of 200 req/min limit)
Gate.io: 400 req / 5 min = 80 req/min (< 9% of 900 req/min limit)
```

**çµè«–**: âœ… æ‰€æœ‰äº¤æ˜“æ‰€é€Ÿç‡ä½¿ç”¨ç‡ < 50%ï¼Œæœ‰å……è¶³é¤˜è£•

### CCXT Rate Limiting

æ‰€æœ‰é€£æ¥å™¨å·²å•Ÿç”¨ CCXT å…§å»ºé€Ÿç‡é™åˆ¶ï¼š
```typescript
// src/connectors/okx.ts:46, mexc.ts:45, gateio.ts:45
new ccxt.okx({
  enableRateLimit: true, // CCXT è‡ªå‹•ç®¡ç†é€Ÿç‡é™åˆ¶
  // ...
});
```

**æ±ºç­–**: ç¾æœ‰çš„ p-limit (ä¸¦ç™¼æ§åˆ¶) + CCXT enableRateLimit æ©Ÿåˆ¶å·²å……åˆ†ï¼Œç„¡éœ€èª¿æ•´

---

## Research Task 4: æ•ˆèƒ½å½±éŸ¿è©•ä¼°

### è¨˜æ†¶é«”ä½¿ç”¨é‡ä¼°ç®—

**è³‡æ–™çµæ§‹åˆ†æ** (`src/services/monitor/RatesCache.ts`):

```typescript
// Line 49: ä½¿ç”¨ Map å„²å­˜è²»ç‡æ•¸æ“š
private cache = new Map<string, CachedRatePair>();
```

**å–®ä¸€ FundingRatePair ç‰©ä»¶å¤§å°ä¼°ç®—**:
```typescript
interface FundingRatePair {
  symbol: string;           // ~12 bytes (BTCUSDT)
  exchanges: {              // 4 exchanges Ã— ~150 bytes
    binance: {
      rate: number;         // 8 bytes
      nextTime: Date;       // 8 bytes
      interval: string;     // ~8 bytes
    },
    // ... é‡è¤‡ 4 å€‹äº¤æ˜“æ‰€
  };
  spreadPercent: number;    // 8 bytes
  bestPair: {               // ~100 bytes
    longExchange: string;
    shortExchange: string;
    // ...
  };
  cachedAt: Date;           // 8 bytes
}
```

**ä¼°ç®—**:
- å–®ä¸€ç‰©ä»¶: ~800 bytes (å«ç‰©ä»¶ overhead)
- 30 å€‹äº¤æ˜“å°: 30 Ã— 800 = 24KB
- 100 å€‹äº¤æ˜“å°: 100 Ã— 800 = 80KB
- **å¢åŠ é‡**: 80KB - 24KB = **56KB â‰ˆ 0.056MB**

**çµè«–**: âœ… è¨˜æ†¶é«”å¢åŠ å¯å¿½ç•¥ä¸è¨ˆï¼ˆ< 0.1MBï¼‰ï¼Œé ä½æ–¼ 1MB ç›®æ¨™

### CPU ä½¿ç”¨é‡

**è³‡é‡‘è²»ç‡è¨ˆç®—è¤‡é›œåº¦**:
```
O(n Ã— m) where n = symbols, m = exchange pairs
100 symbols Ã— C(4,2) = 100 Ã— 6 = 600 comparisons
```

**ä¼°ç®—**:
- å–®æ¬¡è¨ˆç®—: < 10ms (JavaScript object comparison)
- æ¯ 5 åˆ†é˜åŸ·è¡Œ 1 æ¬¡
- **å½±éŸ¿**: å¯å¿½ç•¥

### å‰ç«¯æ¸²æŸ“æ•ˆèƒ½

**å¸‚å ´ç›£æ§é é¢** (`app/(dashboard)/market-monitor`):

**ç•¶å‰ç‹€æ³** (30 å€‹äº¤æ˜“å°):
- React è¡¨æ ¼æ¸²æŸ“
- ç„¡è™›æ“¬åŒ–ï¼ˆVirtual Scrollingï¼‰

**æ“´å±•è‡³ 100 å€‹äº¤æ˜“å°**:
- 100 rows Ã— ~10 cells = 1000 DOM å…ƒç´ 
- é ä¼°åˆå§‹æ¸²æŸ“: 500-800ms (æœªå„ªåŒ–)
- WebSocket æ›´æ–°: æ¯æ¬¡æ›´æ–°é‡ç¹ª ~100ms

**é é¢è¼‰å…¥æ™‚é–“ä¼°ç®—**:
```
é¦–æ¬¡è¼‰å…¥ = API fetch (200ms) + åˆå§‹æ¸²æŸ“ (800ms) + è³‡æ–™è™•ç† (100ms)
         â‰ˆ 1100ms
å¾ŒçºŒæ›´æ–° = WebSocket æ¨é€ (50ms) + é‡ç¹ª (100ms)
         â‰ˆ 150ms
```

**çµè«–**: âœ… åˆå§‹è¼‰å…¥æ™‚é–“ ~1.1sï¼Œä½æ–¼ 3 ç§’ç›®æ¨™ã€‚æœªä¾†å¯è€ƒæ…®è™›æ“¬åŒ–å„ªåŒ–ã€‚

---

## Research Task 5: éŒ¯èª¤è™•ç†æ©Ÿåˆ¶å¯©æŸ¥

### ç¾æœ‰éŒ¯èª¤è™•ç†å±¤ç´š

**1. API å±¤ç´š** (`src/connectors/*.ts`):

```typescript
// æ‰€æœ‰é€£æ¥å™¨éƒ½æœ‰çµ±ä¸€çš„éŒ¯èª¤è™•ç†
catch (error) {
  const message = error instanceof Error ? error.message : String(error);

  if (message.includes('rate limit') || message.includes('429')) {
    return new ExchangeRateLimitError('binance', { originalError: error.message });
  }

  if (message.includes('timeout') || message.includes('ECONNRESET')) {
    return new ExchangeConnectionError('binance', { originalError: error.message });
  }

  return new ExchangeApiError('binance', { originalError: error.message });
}
```

âœ… å·²è™•ç†ï¼š
- Rate limit errors
- Connection timeouts
- Network errors
- API errors

**2. é‡è©¦æ©Ÿåˆ¶** (`src/lib/retry.ts`):

```typescript
// Line 18: å¯é‡è©¦çš„éŒ¯èª¤é¡å‹
retryableErrors: [ExchangeRateLimitError],

// Line 94: é—œéµå­—åµæ¸¬
'rate limit', 'timeout', 'ECONNRESET', etc.
```

âœ… å·²å¯¦ä½œï¼š
- Exponential backoff
- æœ€å¤§é‡è©¦æ¬¡æ•¸
- éŒ¯èª¤é¡å‹åˆ¤æ–·

**3. ä¸¦ç™¼æ§åˆ¶** (`p-limit`):

```typescript
// Line 557 in binance.ts
const limit = pLimit(10); // é¿å…éåº¦ä¸¦ç™¼è§¸ç™¼é€Ÿç‡é™åˆ¶
```

âœ… å·²å¯¦ä½œï¼š
- é™åˆ¶åŒæ™‚è«‹æ±‚æ•¸
- é¿å… API éè¼‰

**4. ç›£æ§æœå‹™å±¤ç´š** (`src/services/monitor/FundingRateMonitor.ts`):

```typescript
// Line 106-109: æ”¯æ´å¤šäº¤æ˜“æ‰€ç¨ç«‹è™•ç†
for (const exchangeName of this.exchangeNames) {
  const connector = createExchange(exchangeName, isTestnet);
  this.exchanges.set(exchangeName, connector);
}
```

âœ… å·²å¯¦ä½œï¼š
- å–®ä¸€äº¤æ˜“æ‰€éŒ¯èª¤ä¸å½±éŸ¿å…¶ä»–äº¤æ˜“æ‰€
- ç¹¼çºŒè™•ç†å¯ç”¨çš„äº¤æ˜“å°

### æ“´å±•è‡³ 100 å€‹äº¤æ˜“å°çš„éŒ¯èª¤å ´æ™¯

**å ´æ™¯ 1: éƒ¨åˆ†äº¤æ˜“å°ç²å–å¤±æ•—**
- ç¾æœ‰è™•ç†: âœ… å–®ä¸€äº¤æ˜“å°éŒ¯èª¤è¢«æ•ç²ä¸¦è¨˜éŒ„ï¼Œä¸å½±éŸ¿å…¶ä»–äº¤æ˜“å°
- æ“´å±•å½±éŸ¿: ç„¡ï¼Œæ©Ÿåˆ¶å·²è¶³å¤ 

**å ´æ™¯ 2: å–®ä¸€äº¤æ˜“æ‰€å®Œå…¨å¤±æ•—**
- ç¾æœ‰è™•ç†: âœ… è©²äº¤æ˜“æ‰€çš„æ‰€æœ‰è«‹æ±‚å¤±æ•—ï¼Œä½†å…¶ä»–äº¤æ˜“æ‰€ç¹¼çºŒé‹ä½œ
- æ“´å±•å½±éŸ¿: ç„¡ï¼Œæ©Ÿåˆ¶å·²è¶³å¤ 

**å ´æ™¯ 3: è§¸ç™¼é€Ÿç‡é™åˆ¶**
- ç¾æœ‰è™•ç†: âœ… CCXT å…§å»ºé€Ÿç‡é™åˆ¶ + p-limit ä¸¦ç™¼æ§åˆ¶ + é‡è©¦æ©Ÿåˆ¶
- æ“´å±•å½±éŸ¿: ç„¡ï¼ŒAPI ä½¿ç”¨ç‡ < 50%ï¼Œä¸å¤ªå¯èƒ½è§¸ç™¼

**å ´æ™¯ 4: è…³æœ¬åŸ·è¡Œå¤±æ•—ï¼ˆç¶²è·¯éŒ¯èª¤ï¼‰**
- ç¾æœ‰è™•ç†: âœ… è…³æœ¬ catch error ä¸¦ä¿ç•™åŸæœ‰é…ç½®ï¼ˆline 164ï¼‰
- æ“´å±•å½±éŸ¿: ç„¡ï¼ŒéŒ¯èª¤è™•ç†å®Œå–„

**å ´æ™¯ 5: é…ç½®æª”æ¡ˆæå£**
- ç¾æœ‰è™•ç†: âš ï¸ ç„¡æ˜ç¢ºå‚™ä»½æ©Ÿåˆ¶
- å»ºè­°: åŸ·è¡Œè…³æœ¬å‰å»ºè­°æ‰‹å‹•å‚™ä»½ `config/symbols.json`

**æ±ºç­–**: ç¾æœ‰éŒ¯èª¤è™•ç†æ©Ÿåˆ¶å……åˆ†ï¼Œå»ºè­°åœ¨ quickstart.md ä¸­æé†’æ‰‹å‹•å‚™ä»½é…ç½®æª”æ¡ˆ

---

## Technical Decisions Summary

| æ±ºç­–é …ç›® | é¸é … | æ±ºç­– | ç†ç”± |
|---------|------|------|------|
| **è…³æœ¬ä¿®æ”¹** | ä¿®æ”¹ vs ä½¿ç”¨ç¾æœ‰ | **ä½¿ç”¨ç¾æœ‰** | å·²æ”¯æ´ OI_TOP_N ç’°å¢ƒè®Šæ•¸ |
| **API é€Ÿç‡æ§åˆ¶** | èª¿æ•´ vs ç¶­æŒ | **ç¶­æŒ** | ä½¿ç”¨ç‡ < 50%ï¼Œæœ‰å……è¶³é¤˜è£• |
| **ä¸¦ç™¼æ•¸èª¿æ•´** | å¢åŠ  vs ç¶­æŒ 10 | **ç¶­æŒ 10** | ç¾æœ‰é…ç½®å·²æœ€ä½³åŒ– |
| **äº¤æ˜“æ‰€è¦†è“‹ç‡è™•ç†** | éæ¿¾ vs å®¹éŒ¯ | **å®¹éŒ¯** | ç¾æœ‰éŒ¯èª¤è™•ç†å·²å……åˆ† |
| **è¨˜æ†¶é«”å„ªåŒ–** | éœ€è¦ vs ä¸éœ€è¦ | **ä¸éœ€è¦** | å¢åŠ é‡ < 0.1MB |
| **å‰ç«¯å„ªåŒ–** | è™›æ“¬åŒ– vs ç¶­æŒ | **ç¶­æŒ** | è¼‰å…¥æ™‚é–“ < 3s ç›®æ¨™ |
| **é…ç½®å‚™ä»½** | è‡ªå‹• vs æ‰‹å‹• | **æ‰‹å‹•** | ç°¡åŒ–å¯¦ä½œï¼Œåœ¨æŒ‡å—ä¸­èªªæ˜ |
| **æª¢æŸ¥é »ç‡** | èª¿æ•´ vs ç¶­æŒ 5 åˆ†é˜ | **ç¶­æŒ** | ç”¨æˆ¶éœ€æ±‚æ˜ç¢º |

---

## Risk Assessment

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ | ç·©è§£æªæ–½ | ç‹€æ…‹ |
|------|--------|------|---------|------|
| è…³æœ¬åŸ·è¡Œå¤±æ•—ï¼ˆç¶²è·¯éŒ¯èª¤ï¼‰| ä½ | ä¸­ | è…³æœ¬æœ‰éŒ¯èª¤è™•ç†ï¼Œä¿ç•™åŸé…ç½® | âœ… å·²ç·©è§£ |
| äº¤æ˜“æ‰€è¦†è“‹ç‡ä¸è¶³ | ä¸­ | ä½ | ç³»çµ±å®¹éŒ¯ï¼Œéƒ¨åˆ†äº¤æ˜“å°ä»å¯ç”¨ | âœ… å¯æ¥å— |
| è§¸ç™¼ API é€Ÿç‡é™åˆ¶ | æ¥µä½ | ä¸­ | ä½¿ç”¨ç‡ < 50%ï¼Œæœ‰é‡è©¦æ©Ÿåˆ¶ | âœ… å·²ç·©è§£ |
| å‰ç«¯è¼‰å…¥æ™‚é–“éé•· | ä½ | ä½ | é ä¼° 1.1s < 3s ç›®æ¨™ | âœ… å¯æ¥å— |
| é…ç½®æª”æ¡ˆæå£ | æ¥µä½ | é«˜ | å»ºè­°æ‰‹å‹•å‚™ä»½ | âš ï¸ éœ€æ–‡ä»¶åŒ– |
| è¨˜æ†¶é«”æº¢å‡º | æ¥µä½ | é«˜ | å¢åŠ é‡ < 0.1MB | âœ… ç„¡é¢¨éšª |

**ç¸½é«”é¢¨éšªè©•ä¼°**: ğŸŸ¢ **ä½é¢¨éšª**ï¼Œæ‰€æœ‰é—œéµé¢¨éšªå·²æœ‰ç·©è§£æªæ–½

---

## Performance Benchmarks (Estimated)

| æŒ‡æ¨™ | 30 å€‹äº¤æ˜“å° | 100 å€‹äº¤æ˜“å° | è®ŠåŒ– | ç›®æ¨™ | ç‹€æ…‹ |
|------|------------|--------------|------|------|------|
| **è…³æœ¬åŸ·è¡Œæ™‚é–“** | ~3 ç§’ | ~5 ç§’ | +67% | < 5 åˆ†é˜ | âœ… |
| **API å‘¼å«é€Ÿç‡** | 120 req/5min | 400 req/5min | +233% | < 600 req/min | âœ… |
| **è¨˜æ†¶é«”ä½¿ç”¨** | ~24 KB | ~80 KB | +56 KB | < 1 MB å¢åŠ  | âœ… |
| **è³‡é‡‘è²»ç‡æª¢æŸ¥é€±æœŸ** | 5 åˆ†é˜ | 5 åˆ†é˜ | ç„¡è®ŠåŒ– | ç¶­æŒ 5 åˆ†é˜ | âœ… |
| **å‰ç«¯é é¢è¼‰å…¥** | ~800ms | ~1100ms | +300ms | < 3 ç§’ | âœ… |
| **å¥—åˆ©æ©Ÿæœƒæ•¸é‡** | 5-10/å¤© | 15-30/å¤© | +200% | 3x æå‡ | âœ… |

**æ‰€æœ‰æŒ‡æ¨™å‡åœ¨ç›®æ¨™ç¯„åœå…§** âœ…

---

## Dependencies Analysis

### ç¾æœ‰ä¾è³´ï¼ˆç„¡éœ€æ–°å¢ï¼‰

å¾ `package.json` åˆ†æï¼š

| ä¾è³´ | ç‰ˆæœ¬ | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|------|
| `p-limit` | 7.2.0 | ä¸¦ç™¼æ§åˆ¶ | âœ… å·²å®‰è£ |
| `ccxt` | 4.5.11 | äº¤æ˜“æ‰€é€£æ¥ï¼ˆOKX, MEXC, Gate.ioï¼‰| âœ… å·²å®‰è£ |
| `@binance/connector` | 3.6.1 | Binance å®˜æ–¹ SDK | âœ… å·²å®‰è£ |
| `axios` | 1.7.7 | HTTP è«‹æ±‚ | âœ… å·²å®‰è£ |
| `zod` | 3.x | è³‡æ–™é©—è­‰ | âœ… å·²å®‰è£ |

**æ±ºç­–**: ç„¡éœ€å®‰è£ä»»ä½•æ–°ä¾è³´ âœ…

---

## Recommendations

### å¿…é ˆåŸ·è¡Œ (Phase 2 Tasks)

1. **åŸ·è¡Œè…³æœ¬æ›´æ–°é…ç½®**:
   ```bash
   OI_TOP_N=100 pnpm update-oi-symbols
   ```

2. **é©—è­‰é…ç½®æ›´æ–°**:
   ```bash
   cat config/symbols.json | grep -A 5 "top100_oi"
   ```

3. **é‡å•Ÿç›£æ§æœå‹™**:
   ```bash
   pnpm dev  # æˆ– pnpm start
   ```

4. **é©—è­‰å‰ç«¯é¡¯ç¤º**:
   - è¨ªå• `http://localhost:3000/market-monitor`
   - ç¢ºèªé¡¯ç¤º 100 å€‹äº¤æ˜“å°

5. **è§€å¯Ÿç³»çµ±æ—¥èªŒ**:
   - æª¢æŸ¥ API éŒ¯èª¤ç‡
   - ç¢ºèªæ‰€æœ‰äº¤æ˜“å°æ­£å¸¸æ›´æ–°

### å»ºè­°åŸ·è¡Œ (Optional Enhancements)

1. **é…ç½®æª”æ¡ˆå‚™ä»½æ©Ÿåˆ¶** (US2 ç¯„åœå¤–):
   ```bash
   cp config/symbols.json config/symbols.json.backup
   ```

2. **ç›£æ§ API ä½¿ç”¨ç‡** (US3 - P3):
   - å¯¦ä½œç°¡å–®çš„ API å‘¼å«è¨ˆæ•¸å™¨
   - è¨˜éŒ„æ¯å€‹äº¤æ˜“æ‰€çš„æˆåŠŸ/å¤±æ•—ç‡

3. **å‰ç«¯è™›æ“¬åŒ–å„ªåŒ–** (æœªä¾†å„ªåŒ–):
   - å¦‚æœ 100 å€‹äº¤æ˜“å°å°è‡´å‰ç«¯å¡é “
   - è€ƒæ…®ä½¿ç”¨ react-window æˆ– react-virtualized

### ä¸å»ºè­°åŸ·è¡Œ

1. âŒ ä¿®æ”¹è³‡é‡‘è²»ç‡æª¢æŸ¥é »ç‡ï¼ˆç”¨æˆ¶å·²æ˜ç¢ºç¶­æŒ 5 åˆ†é˜ï¼‰
2. âŒ æ–°å¢è‡ªå‹• OI åˆ·æ–°æ©Ÿåˆ¶ï¼ˆè¶…å‡ºç•¶å‰ç¯„åœï¼‰
3. âŒ èª¿æ•´ä¸¦ç™¼æ§åˆ¶åƒæ•¸ï¼ˆç¾æœ‰é…ç½®å·²æœ€ä½³åŒ–ï¼‰

---

## Conclusion

æ­¤åŠŸèƒ½ç‚º**ç´”é…ç½®æ“´å±•**ï¼ŒæŠ€è¡“é¢¨éšªæ¥µä½ï¼š

âœ… **ç„¡éœ€ç¨‹å¼ç¢¼ä¿®æ”¹**
âœ… **ç„¡éœ€æ–°å¢ä¾è³´**
âœ… **ç„¡éœ€è³‡æ–™åº« migration**
âœ… **æ‰€æœ‰æ•ˆèƒ½æŒ‡æ¨™åœ¨ç›®æ¨™ç¯„åœå…§**
âœ… **ç¾æœ‰åŸºç¤è¨­æ–½å®Œå…¨æ”¯æ´**

**é ä¼°å·¥æ™‚**: 1-2 å°æ™‚ï¼ˆåŒ…å«æ¸¬è©¦å’Œé©—è­‰ï¼‰

**ä¸‹ä¸€æ­¥**: é€²å…¥ Phase 1 è¨­è¨ˆéšæ®µï¼Œç”Ÿæˆ `data-model.md`, `contracts/`, `quickstart.md`
